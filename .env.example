# ===================================
# AWS SSO Token Refresh Configuration
# ===================================
# Copy this file to .env and customize for your environment
# cp .env.example .env

# ===================================
# Required Configuration
# ===================================

# Your AWS SSO Profile name (from ~/.aws/config)
# Example: AWS-CWP-Developers-Dev-442294689084
AWS_SSO_PROFILE=your-profile-name-here

# Your AWS SSO Session name (from ~/.aws/config [sso-session])
# Example: kyleclaude
AWS_SSO_SESSION=your-sso-session-here

# ===================================
# Optional Configuration
# ===================================

# AWS Configuration
AWS_SSO_CACHE_DIR=~/.aws/sso/cache
AWS_REGION=ca-central-1

# OIDC Endpoint (usually auto-detected from region)
# OIDC_ENDPOINT=https://oidc.ca-central-1.amazonaws.com/token

# Daemon Behavior
REFRESH_CHECK_INTERVAL=60              # Check every 60 seconds
REFRESH_THRESHOLD=300                  # Refresh 5 min before expiry (seconds)
MAX_RETRY_ATTEMPTS=3                   # Retry failed refreshes
RETRY_BACKOFF_SECONDS=10              # Wait between retries

# Logging Configuration
LOG_LEVEL=info                         # Options: debug, info, warn, error
LOG_FILE=./logs/refresh.log
LOG_MAX_SIZE=10M                       # Rotate after 10MB
LOG_MAX_FILES=5                        # Keep 5 old log files

# Notification Settings
NOTIFY_ON_SUCCESS=false                # Notify on every successful refresh
NOTIFY_ON_ERROR=true                   # Notify on errors
NOTIFY_ON_STARTUP=true                 # Notify when daemon starts
NOTIFY_SOUND=default                   # macOS notification sound

# pm2 Configuration
PM2_APP_NAME=aws-sso-refresh
PM2_INSTANCES=1
PM2_AUTORESTART=true
